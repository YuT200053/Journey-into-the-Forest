import{t as p}from"./swalToast-Dm2hVMXa.js";import{c as h}from"./cartStore-DMgsjY27.js";import{_ as S,m as k,a as w,c as i,d as L,b as t,z as V,t as o,F as r,y as u,g as m,A as E,B as T,n as U,e as D,f as A,r as B,o as c}from"./index-CS9Rg4Wp.js";var C={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",VITE_BASE_URL:"/Journey-into-the-Forest/",BASE_URL:"/Journey-into-the-Forest/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:b,VITE_PATH:v}=C,R={data(){return{product:{},qty:1,isLoading:!1}},computed:{...k(h,["carts"])},methods:{...w(h,["getCart"]),addCart(a,l=1){const d={product_id:a,qty:l},_=`${b}/api/${v}/cart`;this.axios.post(_,{data:d}).then(()=>{p.fire({icon:"success",title:"已加入購物車！"})}).catch(()=>{p.fire({icon:"error",title:"加入購物車失敗。"})})}},mounted(){const{id:a}=this.$route.params,l=`${b}/api/${v}/product/${a}`;this.isLoading=!0,this.axios.get(l).then(d=>{this.product=d.data.product,this.isLoading=!1}).catch(()=>{p.fire({icon:"error",title:"取得產品資訊失敗。"})})}},F={class:"product-banner img-box"},I={class:"container"},N={class:"product-banner-title text-center w-100 py-4"},q={class:"title mb-0"},P={class:"text-center mb-3"},z={class:"text-center mb-5 fs-5"},M={href:"#",class:"link-dark-green"},H=t("i",{class:"bi bi-geo-alt-fill me-1"},null,-1),J={class:"container pb-5"},O={class:"row"},j={class:"col-12 col-lg-7"},G={class:"product-description p-5 mx-auto mb-5"},K=t("div",null,[t("h3",{class:"title mb-0"},"行程亮點"),t("span",{class:"english fs-5 title"},"Features")],-1),Q={class:"mt-4 text-muted ls-2"},W={class:"product-content mb-7"},X=t("div",{class:"text-center mb-3"},[t("h3",{class:"title mb-0"},"每日行程"),t("span",{class:"english fs-5 title"},"Schedules")],-1),Y={class:"product-content-day px-5 py-3 w-100"},Z={class:"product-content-time px-5 py-3 flex-shrink-1 w-100"},$=A('<div class="product-content mb-5 mb-lg-0"><div class="text-start mb-1"><h5 class="title mb-0">注意事項</h5><span class="english fs-7 title">Notices</span></div><ol class="fs-7 text-muted fw-normal"><li> 此票券優惠效期為購買日起 6 個月 (到期日將顯示於您的電子票券上)，逾優惠效期使用此票券則依票面金額現場折抵其他專案行程，且恕不找零；若金額不足則需現場補足差額。 </li><li>此票券以為折扣後之優惠價，恕不得與現場其他優惠活動合併使用。</li><li> 如遇特殊節日，需依票面金額補足與現場定價差價後方可使用。特殊節日定義為：除夕、春節期間、清明兒童連假、母親節、端午連假、聖誕節及其他公告之特定活動日期 (各節日定義依人事行政局公佈之日期為準)。 </li><li> 此票券為套裝行程，請注意各景點、餐廳、旅館等地點的營業時間與開放時間，以免因時間不足而不法使用或錯過行程。 </li><li>此票券下單付款時已開立發票，使用當日則不再開立發票。</li><li> 使用此票券前，需事先致電至該國家森林遊樂區告知使用日期與人數，人數至少 2 人以上，若人數不足，該國家森林遊樂區有權安排與其他使用票券者安排同房住宿。 </li><li>此票券售出後恕不能退換，請務必確認專案內容與注意事項後再進行購買。</li></ol></div>',1),tt={class:"col-12 col-lg-5 product-add-cart"},st={class:"sticky-top"},et={class:"product-description p-5 mx-auto mb-6"},ot={class:"fw-bold"},it={class:"my-4"},ct={class:"text-muted"},lt=t("br",null,null,-1),nt={class:"fs-5 fw-bold mb-0 text-danger"},rt={class:"my-4"},at=["value"],dt=t("i",{class:"bi bi-bag me-1"},null,-1);function ut(a,l,d,_,s,g){const f=B("VueLoading");return c(),i(r,null,[L(f,{active:s.isLoading},null,8,["active"]),t("section",F,[t("div",{class:"product-banner-bg",style:V({"background-image":"url("+s.product.banner+")"})},null,4),t("div",I,[t("div",N,[t("h1",q,o(s.product.title),1)]),t("div",P,[(c(!0),i(r,null,u(s.product.category?s.product.category.split(","):[],(e,n)=>(c(),i("span",{class:"badge rounded-pill bg-primary text-white me-1",key:"category"+n},o(`#${e}`),1))),128))]),t("div",z,[t("a",M,[H,m(o(s.product.unit),1)])])])]),t("section",J,[t("div",O,[t("div",j,[t("div",G,[K,t("div",Q,o(s.product.description),1)]),t("div",W,[X,(c(!0),i(r,null,u(s.product.content?s.product.content.split(":"):[],(e,n)=>(c(),i("div",{class:"product-content-schedule mx-auto border-1 border-top border-bottom mt-3",key:"schedule"+n},[t("div",Y,[(c(),i("h5",{class:"d-block fw-bold english text-white mx-auto",key:"day"+n}," Day "+o(n+1),1))]),t("div",Z,[(c(!0),i(r,null,u(e?e.split(","):[],(y,x)=>(c(),i("div",{key:"time"+x},o(y),1))),128))])]))),128))]),$]),t("div",tt,[t("div",st,[t("div",et,[t("div",null,[t("h4",ot,o(s.product.title),1),t("div",it,[t("del",ct," 原價 "+o(s.product.origin_price?s.product.origin_price.toLocaleString("en-US"):"")+" 元 ",1),lt,t("span",nt," 限時特價 "+o(s.product.price?s.product.price.toLocaleString("en-US"):"")+" 元 ",1)])]),t("div",rt,[E(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[0]||(l[0]=e=>s.qty=e)},[(c(),i(r,null,u(10,e=>t("option",{key:e,value:e},o(e)+" 張",9,at)),64))],512),[[T,s.qty]])]),t("button",{type:"submit",class:U(["btn btn-primary text-white w-100",{disabled:s.isLoading}]),onClick:l[1]||(l[1]=D(e=>g.addCart(s.product.id,s.qty),["prevent"]))},[dt,m("加入購物車 ")],2)])])])])])],64)}const mt=S(R,[["render",ut]]);export{mt as default};
