import{_ as m,C as a,c as p,a as d,b as s,w as c,f as e,d as f,D as k,A as x,r as i,o as u}from"./index-Usp75sxp.js";import{t as r}from"./swalToast-DMScG5K0.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",VITE_BASE_URL:"/Journey-into-the-Forest/",BASE_URL:"/Journey-into-the-Forest/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:R}=V,$={data(){return{checkSuccess:!1}},methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)yu-t-200053\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){a.defaults.headers.common.Authorization=`${t}`;const n=`${R}/api/user/check`;a.post(n).then(()=>{this.checkSuccess=!0}).catch(()=>{r.fire({icon:"error",title:"驗證失敗，請重新登入。"}),this.$router.push("/")})}else r.fire({icon:"error",title:"您尚未登入。"}),this.$router.push("/")},logout(){document.cookie="yu-t-200053=;expires=;",r.fire({icon:"success",title:"token 已清除！"}),this.$router.push("/")}},mounted(){this.checkAdmin()}},E={class:"container mx-auto py-3"},v=d("h1",{class:"text-center"},"後台",-1),y={class:"mx-auto text-center my-3"};function A(t,n,S,B,h,_){const o=i("RouterLink"),l=i("RouterView");return u(),p("div",E,[v,d("nav",y,[s(o,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" │ "),s(o,{to:"/admin/orders"},{default:c(()=>[e("後台訂單")]),_:1}),e(" │"),s(o,{to:"",onClick:f(_.logout,["prevent"])},{default:c(()=>[e(" 登出 ")]),_:1},8,["onClick"])]),h.checkSuccess?(u(),k(l,{key:0})):x("",!0)])}const T=m($,[["render",A]]);export{T as default};
