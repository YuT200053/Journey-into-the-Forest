import{t as y}from"./swalToast-CJrHDPth.js";import{_ as k,c as i,d as r,b as e,F as g,y as p,n as u,e as h,f as w,r as b,o as n,w as f,t as a}from"./index-Bl77v80k.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yu-t-200053",VITE_BASE_URL:"/Journey-into-the-Forest/",BASE_URL:"/Journey-into-the-Forest/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:P,VITE_PATH:T}=L,V={data(){return{products:[],pagination:{},isLoading:!1}},methods:{getProducts(m=1){const o=`${P}/api/${T}/products?page=${m}`;this.isLoading=!0,this.axios.get(o).then(c=>{this.products=c.data.products,this.pagination=c.data.pagination,this.isLoading=!1}).catch(()=>{y.fire({icon:"error",title:"取得產品列表失敗。"})})}},mounted(){this.getProducts()}},E={class:"bg-secondary"},S=w('<section class="products-banner img-box"><div class="container"><div class="products-banner-title text-center w-100"><h1 class="title mb-0">漫遊行程</h1><span class="english fs-5 title">Top Picks Tours </span></div></div></section>',1),R={class:"products-journey container pb-6"},U={class:"row g-3 my-4"},C={class:"card mb-3"},N={class:"row g-0"},j=["src","alt"],B={class:"col-md-6"},I={class:"card-body d-flex flex-column h-100"},A={class:"card-title fw-bold mb-0 link-dark-green bg-light-green"},D={class:"p-3"},F={class:"card-text fw-normal link-gray px-3"},$={class:"d-flex justify-content-between align-items-end px-3 pb-4 flex-grow-1"},H={class:"text-gray fs-7 fw-normal"},J=e("br",null,null,-1),M={class:"text-danger fs-5"},O=e("span",{class:"me-1 fs-7 ls-2"},"閱讀更多",-1),z=e("i",{class:"read-more-icon bi bi-arrow-up-right-circle-fill"},null,-1),q={"aria-label":"Page navigation example"},G={class:"pagination justify-content-center"},K=e("span",{"aria-hidden":"true"},"«",-1),Q=[K],W=["onClick"],X=e("span",{"aria-hidden":"true"},"»",-1),Y=[X];function Z(m,o,c,ee,s,l){const x=b("VueLoading"),d=b("RouterLink");return n(),i("main",E,[r(x,{active:s.isLoading},null,8,["active"]),S,e("section",R,[e("div",U,[(n(!0),i(g,null,p(s.products,t=>(n(),i("div",{class:"col-12 col-xl-6",key:t.id},[e("div",C,[e("div",N,[r(d,{to:`/products/${t.id}`,class:"col-md-6 img-box"},{default:f(()=>[e("img",{src:t.imageUrl,class:"img-fluid rounded-start h-100 w-100 object-fit-cover",alt:t.title},null,8,j)]),_:2},1032,["to"]),e("div",B,[e("div",I,[r(d,{to:`/products/${t.id}`},{default:f(()=>[e("h4",A,[e("span",null,a(t.title),1)])]),_:2},1032,["to"]),e("div",D,[(n(!0),i(g,null,p(t.category.split(",").slice(0,3),(_,v)=>(n(),i("span",{class:"badge rounded-pill bg-primary text-white me-1",key:"category"+v},a(`#${_}`),1))),128))]),e("p",F,a(t.description),1),e("div",$,[e("div",null,[e("del",H," NT$ "+a(t.origin_price?t.origin_price.toLocaleString("en-US"):"")+" /位 ",1),J,e("span",M," NT$ "+a(t.price?t.price.toLocaleString("en-US"):"")+" /位 ",1)]),r(d,{to:`/products/${t.id}`,class:"read-more fw-normal me-2 d-flex justify-content-end align-items-center"},{default:f(()=>[O,z]),_:2},1032,["to"])])])])])])]))),128))]),e("nav",q,[e("ul",G,[e("li",{class:u(["page-item",{disabled:s.pagination.current_page===1}])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=h(t=>l.getProducts(s.pagination.current_page-1),["prevent"]))},Q)],2),(n(!0),i(g,null,p(s.pagination.total_pages,(t,_)=>(n(),i("li",{class:u(["page-item",{active:t===s.pagination.current_page}]),key:_},[e("a",{class:"page-link",href:"#",onClick:h(v=>l.getProducts(t),["prevent"])},a(t),9,W)],2))),128)),e("li",{class:u(["page-item",{disabled:s.pagination.current_page===s.pagination.total_pages}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=h(t=>l.getProducts(s.pagination.current_page+1),["prevent"]))},Y)],2)])])])])}const ie=k(V,[["render",Z]]);export{ie as default};
